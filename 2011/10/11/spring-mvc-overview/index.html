<!DOCTYPE html><html lang="ko" prefix="og: http://ogp.me/ns#"><head><meta charset="utf-8"><meta name="X-UA-Compatible" content="IE=edge"><title>Spring MVC 살펴보기 · 안녕 프로그래밍</title><meta name="description" content="Struts에서 Spring MVC로 이동하기"><meta name="og:title" content="Spring MVC 살펴보기"><meta name="og:type" content="website"><meta name="og:url" content="https://www.holaxprogramming.com/2011/10/11/spring-mvc-overview/"><meta name="og:image" content="http://image.toast.com/aaaaahq/hola_cover.JPG"><meta name="og:description" content="Struts에서 Spring MVC로 이동하기"><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="icon" href="/favicon.ico"><link rel="stylesheet" href="/css/chiangmai.css"><meta name="steem:author" content="@stunstunstun"><meta name="fb:app_id" content="1258629384258634"><link rel="search" type="application/opensearchdescription+xml" href="https://www.holaxprogramming.com/atom.xml" title="안녕 프로그래밍"></head><body class="post"><div id="fb-root"></div><div class="wrap"><header><nav class="navi-post"><a class="navi-post-back" href="javascript:history.back()"><i class="fa fa-arrow-left" aria-hidden="true"></i></a><a class="navi-post-home" href="/"><i class="fa fa-home" aria-hidden="true"></i></a></nav></header><main class="post"><div class="post"><article class="post-block"><h1 class="post-title">Spring MVC 살펴보기</h1><div class="post-info"><div class="post-info-profile"><a href="https://github.com/stunstunstun" target="_blank"><img src="/image/profile.jpg"></a></div><div class="post-info-details"><div class="post-categories"><a href="/categories/spring-framework" target="_self"><span>SPRING-FRAMEWORK</span></a></div><div class="post-date">2011년 10월 11일</div></div></div><div class="post-share"><div class="fb-like" data-href="https://www.holaxprogramming.com/2011/10/11/spring-mvc-overview/" data-layout="button_count" data-action="like" data-size="small" data-show-faces="true" data-share="false">                 </div><div class="fb-share-button" data-href="https://www.holaxprogramming.com/2011/10/11/spring-mvc-overview/" data-layout="button" data-size="small" data-mobile-iframe="true"></div><div class="fb-follow" data-href="https://www.facebook.com/holaxprogramming/" data-layout="button_count" data-size="small" data-show-faces="true"></div></div><div class="post-content"><p>글을 쓰고 있는 저자는 막 실무에 투입된 신입 프로그래머인데요, 최근 겪었던 프로젝트를 개선하기 위한 방법을 정리해 보았습니다. 현재 사내에서 Joycity라는 게임 포털을 위한 웹 애플리케이션을 개발하면서 아래와 같은 Java 기반의 프레임워크를 사용하고 있습니다. 이 글은 Struts2에서 Spring MVC로 이동하기 위한 짧은 과정을 설명하고 있습니다.</p>
<a id="more"></a>
<ul>
<li>Struts 2</li>
<li>Spring Framework 2.5</li>
</ul>
<p><code>Struts2</code>는 웹 애플리케이션의 MVC 구조 중에 주로 View, Controller에 해당되는 부분을 담당하며 Java 웹 애플리케이션의 기본이 되는 Servlet의 Context 등을 주로 다루며, HTTP 요청에 대한 URL을 매핑(Mapping) 하는 역할을 합니다.</p>
<p><code>Spring Framework</code>의 경우에는 애플리케이션의 Model에 해당하는 구간을 POJO를 기반으로 비지니스 로직에 필요한 클래스들을 정의하고 이러한 클래스들간의 의존관계를 효율적으로 관리하기 위해 사용합니다. Spring Framework에서는 이러한 목적을 위해서 DI, AOP와 같은 기술들을 제공하고 있습니다.</p>
<h2 id="Struts-2가-정말-최선일까"><a href="#Struts-2가-정말-최선일까" class="headerlink" title="Struts 2가 정말 최선일까?"></a>Struts 2가 정말 최선일까?</h2><p>사내에서는 웹 애플리케이션의 Controller 부분을 이미 Struts 2를 통해 개발해 오고 있었고, 저 역시 자연스럽게 Struts 2를 사용해 오고 있었습니다. HTTP 요청에 대한 URL Mapping이 Spring MVC에 비해 간결하고 사용하기 쉽다고 알고 있었지만 <code>Spring Framework 단일 구성만으로는 개발할 수는 없을까?</code>라는 의문이 생기게 되었습니다.</p>
<p>거기다 최근에 Spring Framework의 새로운 Version인 3.0이 발표되면서 Controller를 Spring MVC로 이식함으로서 일관적으로 Framework를 사용하고 싶었습니다. 결론적으로 Struts 2에서 Spring MVC로 이식하면서 Struts 2에 비해서 큰 불편한 점은 느끼지 못하였고 뿐만 아니라 많은 장점을 느낄 수가 있었는데요,</p>
<p>그 이유로는:</p>
<ul>
<li><p>Spring MVC는 Struts 2가 제공하는 있는 주요 기능인 Servlet에 대한 추상화로 시작되는 Request Mapping, Customized Interceptor등을 제공하고 있을 뿐만 아니라, 더욱 심플하고 강력한 Validation을 제공합니다.</p>
</li>
<li><p>Struts 2는 HTTP의 요청 단위마다 <code>struts.xml</code>파일에 등록해줘야 되는 번거러움이 있습니다.(와일드카드 맵핑을 통해 어느 정도는 해소 되었지만)</p>
</li>
<li><p>Spring MVC는 Version 2.5 부터 xml 설정 파일 없이 어노테이션(annotation)기반으로 Controller가 구현이 가능하고 Spring 3.0 부터는 <code>mvc namespace</code>를 제공해서 더욱 간편하게 설정이 가능합니다.</p>
</li>
</ul>
<p>mvc namespace에 대한 한가지 예로는 아래와 같이 비지니스 로직이 없는 단순한 정적 페이지를 위해서 Controller 클래스 생성 없이 설정 가능하다는 것 입니다.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">GET</span><br><span class="line">/event/thanks</span><br></pre></td></tr></table></figure>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">mvc:view-controller</span> <span class="attr">path</span>=<span class="string">"/event/thanks"</span> <span class="attr">view-name</span>=<span class="string">"/event/thanks"</span>/&gt;</span></span><br></pre></td></tr></table></figure>
<p>지금까지 Spring MVC를 통해 직접 구현하고 테스트한 후의 결과는 굳이 복수의 프레임워크를 혼합해서 사용할 필요가 있을까라는 의문이 들기 시작했습니다. 실제로 해외 오픈 소스 커뮤니티, 국내외 개발 관련 커뮤니티를 상주해 본 결과 Spring을 사용하면서 웹 애플리케이션의 MVC 구조를 Struts 2로 구현하는 경우는 레거시 시스템의 유지보수를 제외하고는 거의 없었습니다. 대부분의 프로젝트는 Spring Framework기반의 Maven 프로젝트가 대부분이였습니다.</p>
<blockquote>
<p>Maven이라..공부 할 것이 더욱 늘어나네요.. Maven이라는 도구는 어떠한 계기로 탄생이 되었고, 왜 현재 많이 사용되고 있는지 궁금하네요!?</p>
</blockquote>
<h4 id="Google-Trends-에서도-아래와-같이-Struts-2에-대한-관심은-점점-줄어드는-추세입니다"><a href="#Google-Trends-에서도-아래와-같이-Struts-2에-대한-관심은-점점-줄어드는-추세입니다" class="headerlink" title="Google Trends 에서도 아래와 같이 Struts 2에 대한 관심은 점점 줄어드는 추세입니다."></a>Google Trends 에서도 아래와 같이 Struts 2에 대한 관심은 점점 줄어드는 추세입니다.</h4><p><img src="https://lh4.googleusercontent.com/aevOwAQR2iWFGvFUCTiiWDy5nD8SxaP46NyuzeNa8zfSYrnFjGmmOiJAFd8Kz-EnY-riWjg1fH5IW0NOW-zqk1bV-dy7yGwB2Oj0I1a3SvMT-7eqYlTsi61I"></p>
<h2 id="Spring-MVC-구현하기"><a href="#Spring-MVC-구현하기" class="headerlink" title="Spring MVC 구현하기"></a>Spring MVC 구현하기</h2><p>아래의 내용은 제가 실제로 Spring MVC를 통해 간단한 Controller를 구현해 본 결과입니다.</p>
<h4 id="DispatcherServlet"><a href="#DispatcherServlet" class="headerlink" title="DispatcherServlet"></a>DispatcherServlet</h4><p><img src="https://lh6.googleusercontent.com/W12x6PhemHrljV76l0mR1Zj90jQd5L7eiFyl47xrVrMkL-ucxa0DvOccmBsR5R7_9tVIofxKFkiuV4RcMGurT_u_O-sGxbR7aSHN1PkXtZ7PwQp-v_0kc5hW"></p>
<p>Spring MVC는 HTTP Request, Response와 같은 서버-클라이언트간의 상호 작용 뿐만 아니라 Controller, View 모델에 대한 동작을 모두 DispatcherServlet이 맨 앞에서 처리하고 있기 때문에 DispatchServlet을 위한 설정이 필요합니다.</p>
<p><strong>web.xml</strong></p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">servlet</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;<span class="name">servlet-name</span>&gt;</span>SpringApplication<span class="tag">&lt;/<span class="name">servlet-name</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;<span class="name">servlet-class</span>&gt;</span>org.springframework.web.servlet.DispatcherServlet<span class="tag">&lt;/<span class="name">servlet-class</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;<span class="name">init-param</span>&gt;</span></span><br><span class="line"> 	<span class="tag">&lt;<span class="name">param-name</span>&gt;</span>contextConfigLocation<span class="tag">&lt;/<span class="name">param-name</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">param-value</span>&gt;</span>/WEB-INF/classes/spring/spring-servlet.xml<span class="tag">&lt;/<span class="name">param-value</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;/<span class="name">init-param</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;<span class="name">load-on-startup</span>&gt;</span>1<span class="tag">&lt;/<span class="name">load-on-startup</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">servlet</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">servlet-mapping</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;<span class="name">servlet-name</span>&gt;</span>SpringApplication<span class="tag">&lt;/<span class="name">servlet-name</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;<span class="name">url-pattern</span>&gt;</span>/<span class="tag">&lt;/<span class="name">url-pattern</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">servlet-mapping</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>Spring MVC는 Struts 2 그리고 템플릿 엔진인 Freemarker와 관련된 설정 없이 DispatcherServlet만 등록하면 MVC 구현이 바로 가능합니다.</p>
<blockquote>
<p>spring-servlet.xml은 애플리케이션에 필요한 스프링 환경 설정을 포함됩니다.</p>
<ul>
<li>애플리케이션의 Model 식별을 위한 component scan package를 지정</li>
<li>JSP나 Freemarker로 View를 표현하기 위해 viewResolver 등록</li>
<li>AOP에 대하 설정</li>
<li>Constants</li>
<li>Datasource에 대한 설정</li>
</ul>
</blockquote>
<h4 id="ViewResolver-지정"><a href="#ViewResolver-지정" class="headerlink" title="ViewResolver 지정"></a>ViewResolver 지정</h4><p>HTTP 요청에 대한 Controller의 처리 결과를 생성할 view를 지정합니다. view단의 template로 Freemarker를 사용하기 위해서 viewResolver를 등록합니다.</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">context:component-scan</span> <span class="attr">base-package</span>=<span class="string">"com.jce.api"</span> /&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- freemarker config --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">class</span>=<span class="string">"org.springframework.web.servlet.view.freemarker.FreeMarkerConfigurer"</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"defaultEncoding"</span> <span class="attr">value</span>=<span class="string">"UTF-8"</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"templateLoaderPath"</span> <span class="attr">value</span>=<span class="string">"/template/"</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">class</span>=<span class="string">"org.springframework.web.servlet.view.freemarker.FreeMarkerViewResolver"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"contentType"</span> <span class="attr">value</span>=<span class="string">"text/html; charset-UTF-8"</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"suffix"</span> <span class="attr">value</span>=<span class="string">".ftl"</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h3 id="Controller-클래스-구현"><a href="#Controller-클래스-구현" class="headerlink" title="Controller 클래스 구현"></a>Controller 클래스 구현</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Controller</span></span><br><span class="line"><span class="meta">@RequestMapping</span>(value=<span class="string">"/members"</span>)</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MemberController</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> MemberService memberService;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@RequestMapping</span>(value=<span class="string">"/welcome"</span>, method=RequestMethod.GET)</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">main</span> <span class="params">(Model model)</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">    	model.add(<span class="string">"title"</span>, <span class="string">"Hello Spring MVC!"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="requestMapping-어노테이션"><a href="#requestMapping-어노테이션" class="headerlink" title="@requestMapping 어노테이션"></a>@requestMapping 어노테이션</h4><p>HTTP 요청에 대한 URL Mapping 을 위한 Java 어노테이션(annotation), 클래스에 지정하면 해당 클래스 메소드에 모두 적용</p>
<ul>
<li>value : HTTP 요청 URL                               </li>
<li>method : 허용 가능한 HTTP Method 지정                     </li>
</ul>
<p>지금까지 웹 애플리케이션의 MVC구조를 맡는 프레임워크를 Struts 2에서 Spring MVC로 이식하는 과정을 살펴보았고 실무에서는 조금 더 자세하게 Reference 체크를 할 필요가 있겠습니다.</p>
</div></article></div></main><footer><div class="paginator"><a class="next" href="/2011/12/24/devops-build-tool/"><i class="fa fa-arrow-right" aria-hidden="true"></i></a></div><ins class="adsbygoogle adsense-bottom" style="display:block;" data-ad-client="ca-pub-6188640546219653" data-ad-slot="6129396565" data-ad-format="auto"></ins><div class="fb-comments-area"><div class="fb-comments" data-href="https://www.holaxprogramming.com/2011/10/11/spring-mvc-overview/" data-width="700" data-numposts="5"></div></div><div class="copyright"><p>© 2012 - 2022 <a href="https://github.com/stunstunstun" target="_blank">Minhyeok Jung</a>. Powered by <a href="https://hexo.io/" target="_blank">Hexo</a> and <a href="https://github.com/stunstunstun/hexo-theme-chiangmai" target="_blank">hexo-theme-chiangmai</a>.</p></div></footer></div><script async="" src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><script>(adsbygoogle = window.adsbygoogle || []).push({});</script><script>window.fbAsyncInit=function(){FB.init({appId:"1258629384258634",cookie:!0,xfbml:!0,version:"v2.8"}),FB.AppEvents.logPageView()},function(e,n,t){var o,c=e.getElementsByTagName(n)[0];e.getElementById(t)||((o=e.createElement(n)).id=t,o.src="//connect.facebook.net/en_US/sdk.js",c.parentNode.insertBefore(o,c))}(document,"script","facebook-jssdk");</script><script>(function(b,o,i,l,e,r){b.GoogleAnalyticsObject=l;b[l]||(b[l]=function(){(b[l].q=b[l].q||[]).push(arguments)});b[l].l=+new Date;e=o.createElement(i);r=o.getElementsByTagName(i)[0];e.src='//www.google-analytics.com/analytics.js';r.parentNode.insertBefore(e,r)}(window,document,'script','ga'));ga('create','UA-97419941-1','auto');ga('send','pageview');</script></body></html>